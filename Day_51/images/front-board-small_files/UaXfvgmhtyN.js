/*!CK:1041621703!*//*1438093086,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["LDuno"]); }

__d("VideoPlayerVersions",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={HTML5:"html5",SILVERCITY:"silvercity",PLEASANTVILLE:"pleasantville",OLD_API_PSR:"old_api_psr",OLD_API_EXO:"old_api_exo",LEGACY:"legacy",REFACTORED:"refactored",UNKNOWN:"unknown"};},null);
__d("DeferredComponent.react",["Map","React"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=h,j=i.PropTypes,k=new g(),l=h.createClass({displayName:"DeferredComponent",propTypes:{deferredPlaceholder:j.element.isRequired,deferredComponent:j.func.isRequired,onComponentLoad:j.func,module:j.string},getInitialState:function(){return {component:this.props.module?k.get(this.props.module):null};},componentDidMount:function(){if(!this.state.component)this.props.deferredComponent(this.onComponentLoaded);},render:function(){var m=this.state.component;if(!m)return this.props.deferredPlaceholder;return (h.createElement(m,h.__spread({},this.props),this.props.children));},onComponentLoaded:function(m){if(this.props.module)k.set(this.props.module,m);if(this.isMounted())this.setState({component:m},function(){this.props.onComponentLoad&&this.props.onComponentLoad();}.bind(this));}});e.exports=l;},null);
__d("BootloadedComponent.react",["Bootloader","DeferredComponent.react","JSResource","React"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=j,l=k.PropTypes,m=j.createClass({displayName:"BootloadedComponent",propTypes:{bootloadPlaceholder:l.element.isRequired,bootloadLoader:l.instanceOf(i.Reference).isRequired},render:function(){var n=this.props,o=n.bootloadLoader,p=n.bootloadPlaceholder,q=(function(r,s){var t={},u=Object.prototype.hasOwnProperty;if(r==null)throw new TypeError();for(var v in r)if(u.call(r,v)&&!u.call(s,v))t[v]=r[v];return t;})(n,{bootloadLoader:1,bootloadPlaceholder:1});o;return (j.createElement(h,j.__spread({deferredPlaceholder:p,deferredComponent:this._provideComponent},q),this.props.children));},_provideComponent:function(n){g.loadModules.call(g,[this.props.bootloadLoader.getModuleId()],n);}});e.exports=m;},null);
__d("cancelAnimationFramePolyfill",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.clearTimeout;e.exports=g;},null);
__d("classWithMixins",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){var j=function(){h.apply(this,arguments);};j.prototype=Object.assign(Object.create(h.prototype),i.prototype);return j;}e.exports=g;},null);
__d("MeasuredComponent.react",["EventListener","React","SubscriptionsHandler","emptyFunction","onlyChild","requestAnimationFrame"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"MeasuredComponent",propTypes:{onMeasure:n.func.isRequired,measureOnEvents:n.array,shouldRemeasure:n.func},getDefaultProps:function(){return {onMeasure:j,measureOnEvents:['resize','orientationchange'],shouldRemeasure:j.thatReturnsFalse};},componentWillReceiveProps:function(p){if(p.measureOnEvents!==this.props.measureOnEvents){this.detachEventListeners();this.attachEventListeners(p.measureOnEvents);}},attachEventListeners:function(p){this._subscriptionsHandler.engage();i.prototype.addSubscriptions.apply(this._subscriptionsHandler,p.map(function(q){return g.listen(a,q,this.measure);}.bind(this)));},detachEventListeners:function(){this._subscriptionsHandler.release();},measure:function(){var p=h.findDOMNode(this).getBoundingClientRect();this.props.onMeasure(p);},componentDidUpdate:function(p,q){if(this.props.shouldRemeasure(p.children,this.props.children))this.measure();},componentDidMount:function(){this._subscriptionsHandler=new i();this.attachEventListeners(this.props.measureOnEvents);l(this.measure);},componentWillUnmount:function(){this.detachEventListeners();this._subscriptionsHandler=null;},render:function(){return k(this.props.children);}});e.exports=o;},null);
__d("cancelAnimationFrame",["cancelAnimationFramePolyfill"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports=g.bind(a);},null);
__d("shallowCompare",["shallowEqual"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i,j,k){return (!g(i.props,j)||!g(i.state,k));}e.exports=h;},null);
__d("ReactComponentWithPureRenderMixin",["shallowCompare"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h={shouldComponentUpdate:function(i,j){return g(this,i,j);}};e.exports=h;},null);
__d("HVideoPlayerMixin",["EventListener","VideoPlayerLoggerEvents"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=-1;function j(l,event){var m=event.timeStamp;if(m){var n=m.toString().length-Date.now().toString().length;if(n!==0)m=Math.round(m/Math.pow(10,n));l.time_ms=m;}else l.time_ms=Date.now();return l;}var k={initLogger:function(l,m){var n=this.getSubscriptions();this._loggedEvents={};this._logFunction=l;this._useEventTime=m;var o=this.getVideoElement();this._lastStartTimePosition=i;this._muted=o.muted;this._pausedPosition=i;this._seeking=false;this._seekSourceTimePosition=i;this._volume=o.volume;this._lastPlayedTime=i;if(o.readyState>=o.HAVE_FUTURE_DATA){this._logReadyToPlay();}else n.addSubscriptions(g.listen(o,'canplay',this._logReadyToPlay.bind(this)));n.addSubscriptions(g.listen(o,'pause',this._onPause.bind(this)),g.listen(o,'playing',this._onPlay.bind(this)),g.listen(o,'seeked',this._onSeeked.bind(this)),g.listen(o,'seeking',this._onSeeking.bind(this)),g.listen(o,'timeupdate',this._onTimeUpdate.bind(this)),g.listen(o,'volumechange',this._onVolumeChange.bind(this)));},_logOnce:function(event,l){if(this._loggedEvents[event])return;this._logEvent(event,l);},_logEvent:function(event,l){this._loggedEvents[event]=true;var m=l?l:{};m.video_id=this.getVideoID();if(!m.hasOwnProperty('video_time_position'))m.video_time_position=this.getVideoElement().currentTime.toFixed(2);if(!m.time_ms)m.time_ms=Date.now();m.time=Math.round(m.time_ms/1000);if(this.getAdClientToken){var n=this.getAdClientToken();if(n)m.ad_client_token=n;}this._logFunction(event,m);},_logReadyToPlay:function(){this._logOnce(h.READY_TO_PLAY);},_onPause:function(l){var m=this.getVideoElement(),event=m.ended?h.FINISHED_PLAYING:h.PAUSED,n=this._lastPlayedTime,o=l.lastPauseReason;if(event===h.FINISHED_PLAYING){n=Math.max(n,m.duration);}else if(this.preventPauseLoggingInMixin===true){return;}else if(this.preventPauseLoggingInMixin===false)o=o||'unloaded';this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===i?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:n,debug_reason:o},l));this._lastStartTimePosition=i;},addWatchTimeData:function(l){if(this._lastStartTimePosition!=i&&this._lastPlayedTime!=i){l.video_last_start_time_position=this._lastStartTimePosition;l.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=i;}return l;},getLastPlayReason:function(){return null;},getVideoPlayReason:function(){return null;},_onPlay:function(l){var m=this.getLastPlayReason(),event=this._loggedEvents[h.STARTED_PLAYING]?h.UNPAUSED:h.STARTED_PLAYING,n={debug_reason:m,video_play_reason:this.getVideoPlayReason()};this._logEvent(event,this._amendEventTime(n,l));this._lastStartTimePosition=this.getVideoElement().currentTime.toFixed(2);this._lastPlayedTime=this.getVideoElement().currentTime.toFixed(2);},_onSeeked:function(l){var m={video_seek_source_time_position:this._seekSourceTimePosition};if(this._lastStartTimePosition!==i){m.video_last_start_time_position=this._lastStartTimePosition;}else m.video_last_start_time_position=this._seekSourceTimePosition;this._logEvent(h.SCRUBBED,this._amendEventTime(m,l));var n=this.getVideoElement();if(n.paused){this._lastStartTimePosition=i;}else this._lastStartTimePosition=n.currentTime;this._seekSourceTimePosition=i;this._seeking=false;},_onSeeking:function(){if(!this._seeking){this._seekSourceTimePosition=this.getVideoElement().currentTime.toFixed(2);this._seeking=true;}},_onTimeUpdate:function(){var l=this.getVideoElement();if(!l.paused)this._lastPlayedTime=l.currentTime.toFixed(2);},_onVolumeChange:function(l){var m=this.getVideoElement(),n={},event=null;if(m.muted!==this._muted&&m.volume===this._volume&&m.volume>0){event=m.muted?h.MUTED:h.UNMUTED;}else{event=m.volume>this._volume?h.VOLUME_INCREASE:h.VOLUME_DECREASE;n.current_volume=Math.round(m.volume*100);}this._logEvent(event,this._amendEventTime(n,l));this._muted=m.muted;this._volume=m.volume;},_amendEventTime:function(l,event){if(this._useEventTime)return j(l,event);return l;}};e.exports=k;},null);
__d("AbstractVideoFullscreenControl.react",["AbstractButton.react","React","ReactComponentWithPureRenderMixin"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h,k=j.PropTypes,l=h.createClass({displayName:"AbstractVideoFullscreenControl",mixins:[i],propTypes:{image:k.element,isFullscreen:k.bool,onToggleFullscreen:k.func},getInitialState:function(){return {awaitingUpdate:false};},isFullscreen:function(){if(this.state.awaitingUpdate)return this.state.isFullscreenOverride;return !!this.props.isFullscreen;},onButtonClick:function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen();},render:function(){return (h.createElement(g,h.__spread({},this.props,{className:this.props.className,image:this.props.image,onClick:this.onButtonClick})));}});e.exports=l;},null);
__d("VideoData",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){"use strict";this.$VideoData0=h;}g.prototype.hasHD=function(){"use strict";return !!this.$VideoData0.hd_src;};g.prototype.hasSphericalHD=function(){"use strict";return !!this.$VideoData0.spherical_hd_src;};g.prototype.getEncodingTag=function(){"use strict";return this.$VideoData0.encoding_tag;};g.prototype.getVideoID=function(){"use strict";return this.$VideoData0.video_id;};g.prototype.getRotation=function(){"use strict";return this.$VideoData0.rotation;};g.prototype.hasSubtitles=function(){"use strict";return !!this.$VideoData0.subtitles_src;};g.prototype.getSubtitlesSrc=function(){"use strict";return this.$VideoData0.subtitles_src;};g.prototype.getPlayableSrcSD=function(){"use strict";if(this.$VideoData0.sd_src_no_ratelimit)return this.$VideoData0.sd_src_no_ratelimit;return this.$VideoData0.sd_src;};g.prototype.getPlayableSrcHD=function(){"use strict";if(this.$VideoData0.hd_src_no_ratelimit)return this.$VideoData0.hd_src_no_ratelimit;return this.$VideoData0.hd_src;};g.prototype.getPlayableSrcSphericalSD=function(){"use strict";return this.$VideoData0.spherical_sd_src;};g.prototype.getPlayableSrcSphericalHD=function(){"use strict";return this.$VideoData0.spherical_hd_src;};g.prototype.getPlayableSrcRateLimitedSD=function(){"use strict";return this.$VideoData0.sd_src;};g.prototype.getPlayableSrcRateLimitedHD=function(){"use strict";return this.$VideoData0.hd_src;};g.prototype.hasRateLimit=function(){"use strict";return !!this.$VideoData0.sd_src_no_ratelimit;};g.prototype.isHLS=function(){"use strict";return this.$VideoData0.is_hls;};g.prototype.streamType=function(){"use strict";return this.$VideoData0.stream_type;};g.prototype.getHDTag=function(){"use strict";return this.$VideoData0.hd_tag;};g.prototype.getSDTag=function(){"use strict";return this.$VideoData0.sd_tag;};g.prototype.getSphericalHDTag=function(){"use strict";return this.$VideoData0.spherical_hd_tag;};g.prototype.getSphericalSDTag=function(){"use strict";return this.$VideoData0.spherical_sd_tag;};g.prototype.hasSphericalEncoding=function(){"use strict";return !!this.$VideoData0.spherical_sd_src||!!this.$VideoData0.spherical_hd_src;};g.prototype.getProjection=function(){"use strict";return this.$VideoData0.projection;};e.exports=g;},null);
__d("HTMLMediaElementReadyStates",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};e.exports=g;},null);
__d("VideoFrameBuffer",["DOMDimensions"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j,k){"use strict";this.$VideoFrameBuffer0=j;this.$VideoFrameBuffer1=i;this.$VideoFrameBuffer2=k||'contain';}h.prototype.updateFrameBuffer=function(){"use strict";var i=this.$VideoFrameBuffer1.clientWidth||this.$VideoFrameBuffer1.width,j=this.$VideoFrameBuffer1.clientHeight||this.$VideoFrameBuffer1.height,k=i,l=j,m=this.$VideoFrameBuffer0.videoWidth/this.$VideoFrameBuffer0.videoHeight,n=k/l;if(this.$VideoFrameBuffer2==='cover'){n*=-1;m*=-1;}if(n>m){k=l*m;}else if(n<m)l=k/m;var o=this.$VideoFrameBuffer1.getContext('2d');if(!(o instanceof window.CanvasRenderingContext2D))return;o.drawImage(this.$VideoFrameBuffer0,(i-k)/2,(j-l)/2,k,l);};h.prototype.getDOMNode=function(){"use strict";return this.$VideoFrameBuffer1;};h.prototype.updateDimensions=function(){"use strict";var i=g.getElementDimensions(this.$VideoFrameBuffer0);this.$VideoFrameBuffer1.width=i.width;this.$VideoFrameBuffer1.height=i.height;};e.exports=h;},null);
__d("onCanPlayHTMLMediaElement",["EventListener","HTMLMediaElementReadyStates","invariant","setImmediate"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(m){return m>=h.HAVE_FUTURE_DATA;}function l(m,n){i(m instanceof window.HTMLMediaElement);if(k(m.readyState))j(n);return g.listen(m,'canplay',n);}l.once=function(m,n){var o=l(m,function(){for(var p=[],q=0,r=arguments.length;q<r;q++)p.push(arguments[q]);o.remove();n.apply(this,p);}.bind(this));};e.exports=l;},null);
__d("supportsHTML5Video",["DOM","memoize"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();e.exports=h(function(){return !!g.create('video').canPlayType;});},null);
__d("VideoPlayerHTML5Api",["AbstractVideoPlayerApi","Arbiter","Bootloader","CSS","DOM","DOMDimensions","Event","EventListener","HTMLMediaElementReadyStates","HVideoPlayerMixin","Run","SubscriptionsHandler","VideoData","VideoMimeTypes","VideoFrameBuffer","VideoPlayerLoggerEvents","VideoPlayerReason","VideoPlayerVersions","canVideoPlayType","classWithMixins","cx","mixin","setImmediate","onCanPlayHTMLMediaElement","supportsHTML5Video","performanceNow","requestAnimationFrame"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){b.__markCompiled&&b.__markCompiled();function ha(qa){switch(qa){case 1:return 'The fetching process for the media resource was aborted by the '+'user agent at the users request.';case 2:return 'A network error of some description caused the user agent to '+'stop fetching the media resource, after the resource was '+'established to be usable.';case 3:return 'An error of some description occurred while decoding the '+'media resource, after the resource was established to be usable.';case 4:return 'The media resource indicated by the src attribute was not '+'suitable.';}}function ia(qa){switch(qa){case 1:return 'MEDIA_ERR_ABORTED';case 2:return 'MEDIA_ERR_NETWORK';case 3:return 'MEDIA_ERR_DECODE';case 4:return 'MEDIA_ERR_SRC_NOT_SUPPORTED';default:return 'Error code '+qa+' is unknown';}}function ja(qa){if(qa.readyState>=o.HAVE_METADATA){return qa.muted;}else return !!qa.getAttribute('muted')||qa.muted;}function ka(qa,ra){var sa;if(typeof a.Event==='function'){sa=new a.Event(ra);}else{sa=a.document.createEvent('Event');sa.initEvent(ra,true,true);}qa.dispatchEvent(sa);}var la=-1,ma=z(g,ba(p));for(var na in ma)if(ma.hasOwnProperty(na))pa[na]=ma[na];var oa=ma===null?null:ma.prototype;pa.prototype=Object.create(oa);pa.prototype.constructor=pa;pa.__superConstructor__=ma;function pa(qa,ra){"use strict";ma.call(this);this.$VideoPlayerHTML5Api0=qa;this.$VideoPlayerHTML5Api1=qa.id;var sa=l.getElementDimensions(this.$VideoPlayerHTML5Api0);this.$VideoPlayerHTML5Api2=sa.width;this.$VideoPlayerHTML5Api3=sa.height;if(ra){this.$VideoPlayerHTML5Api4=ra;}else this.$VideoPlayerHTML5Api4=JSON.parse(qa.getAttribute('data-config'));this.$VideoPlayerHTML5Api5={};this.$VideoPlayerHTML5Api6=la;this.$VideoPlayerHTML5Api7=ja(qa);this.$VideoPlayerHTML5Api8=this.$VideoPlayerHTML5Api7;this.$VideoPlayerHTML5Api9=qa.volume;this.$VideoPlayerHTML5Apia=false;this.$VideoPlayerHTML5Apib=la;this.$VideoPlayerHTML5Apic=null;this.$VideoPlayerHTML5Apid=false;this.$VideoPlayerHTML5Apie=false;if(this.$VideoPlayerHTML5Api4.lazyPreload)if(this.$VideoPlayerHTML5Api4.onafterloadRegister){q.onAfterLoad(function(){return this.$VideoPlayerHTML5Api0.setAttribute('preload',this.$VideoPlayerHTML5Api4.lazyPreload);}.bind(this));}else this.$VideoPlayerHTML5Api0.setAttribute('preload',this.$VideoPlayerHTML5Api4.lazyPreload);this.$VideoPlayerHTML5Apif=this.$VideoPlayerHTML5Api4.disableNativeControls;this.$VideoPlayerHTML5Apig=qa.controls;this.$VideoPlayerHTML5Apih=this.$VideoPlayerHTML5Api4.subtitlesActive;this.$VideoPlayerHTML5Apii();this.preventPauseLoggingInMixin=false;this.$VideoPlayerHTML5Apij=new r();this.$VideoPlayerHTML5Apik();this.$VideoPlayerHTML5Apil=this.$VideoPlayerHTML5Api4.useRateLimited;this.$VideoPlayerHTML5Apim=this.$VideoPlayerHTML5Api4.defaultHD;this.$VideoPlayerHTML5Apin=this.$VideoPlayerHTML5Api4.autoFullscreenHD;this.switchVideo(0);this.initLogger(this.$VideoPlayerHTML5Apio.bind(this),this.$VideoPlayerHTML5Api4.useEventTime);this.$VideoPlayerHTML5Apip();if(this.$VideoPlayerHTML5Api4.VideoSphericalRenderer&&this.$VideoPlayerHTML5Apiq.hasSphericalEncoding())this.$VideoPlayerHTML5Apir();}pa.prototype.getAdClientToken=function(){"use strict";this.$VideoPlayerHTML5Api4.ad_client_token;};pa.prototype.getVideoID=function(){"use strict";if(this.$VideoPlayerHTML5Apiq)return this.$VideoPlayerHTML5Apiq.getVideoID();return this.$VideoPlayerHTML5Api4.video_id;};pa.prototype.getDOMElement=function(){"use strict";return this.$VideoPlayerHTML5Api0;};pa.prototype.getVideoElement=function(){"use strict";return this.$VideoPlayerHTML5Api0;};pa.prototype.getSubscriptions=function(){"use strict";return this.$VideoPlayerHTML5Apij;};pa.onImplementationReady=function(qa,ra){"use strict";ca(ra);};pa.prototype.destroy=function(){"use strict";if(this.$VideoPlayerHTML5Apis)k.remove(this.$VideoPlayerHTML5Apis);};pa.prototype.setIsLooping=function(qa){"use strict";if(qa){this.$VideoPlayerHTML5Api0.setAttribute('loop','loop');}else this.$VideoPlayerHTML5Api0.removeAttribute('loop');};pa.prototype.getVideoInfo=function(){"use strict";if(!this.$VideoPlayerHTML5Apiq)return null;return {isHLS:this.$VideoPlayerHTML5Apiq.isHLS(),isHD:this.$VideoPlayerHTML5Apim,streamType:'progressive',hasHD:this.$VideoPlayerHTML5Apiq.hasHD(),areSubtitlesActive:this.areSubtitlesActive(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Apit,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Apiu(),hasSubtitles:this.$VideoPlayerHTML5Apiq.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Apiq.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Apil,projection:this.$VideoPlayerHTML5Apiv(),tagSD:this.$VideoPlayerHTML5Apiw?this.$VideoPlayerHTML5Apiq.getSphericalSDTag():this.$VideoPlayerHTML5Apiq.getSDTag(),tagHD:this.$VideoPlayerHTML5Apiw?this.$VideoPlayerHTML5Apiq.getSphericalHDTag():this.$VideoPlayerHTML5Apiq.getHDTag()};};pa.isImplementationUnavailable=function(qa){"use strict";if(qa)return y(t.h264main30avc)!=='probably';return !ea();};pa.prototype.pause=function(qa){"use strict";this.$VideoPlayerHTML5Apic=qa;if(qa==='unloaded'&&!this.$VideoPlayerHTML5Api0.paused){this.$VideoPlayerHTML5Apio(v.PAUSED,this.addWatchTimeData({reason:'unloaded'}));this.preventPauseLoggingInMixin=true;}this.$VideoPlayerHTML5Apid=false;this.$VideoPlayerHTML5Api0.pause();};pa.prototype.preload=function(){"use strict";if(!this.$VideoPlayerHTML5Apie){this.$VideoPlayerHTML5Apie=true;this.$VideoPlayerHTML5Api0.setAttribute('preload','auto');}};pa.prototype.play=function(qa){"use strict";if(!this.$VideoPlayerHTML5Apix)this.$VideoPlayerHTML5Apix=qa;this.$VideoPlayerHTML5Apiy=qa;if(qa===w.USER&&this.$VideoPlayerHTML5Api8)this.unmute();this.$VideoPlayerHTML5Apid=true;if(!this.$VideoPlayerHTML5Api0.paused)return this.$VideoPlayerHTML5Apiz();if(this.$VideoPlayerHTML5ApiA){this.$VideoPlayerHTML5ApiB();da.once(this.$VideoPlayerHTML5Api0,function(){if(this.$VideoPlayerHTML5Apid)this.$VideoPlayerHTML5Api0.play();}.bind(this));return;}if(this.$VideoPlayerHTML5Api0.readyState>=o.HAVE_METADATA||this.$VideoPlayerHTML5Api0.currentTime>0){this.$VideoPlayerHTML5Api0.play();}else{da.once(this.$VideoPlayerHTML5Api0,function(){if(this.$VideoPlayerHTML5Apid)this.$VideoPlayerHTML5Api0.play();}.bind(this));this.$VideoPlayerHTML5ApiC();}};pa.prototype.$VideoPlayerHTML5ApiC=function(){"use strict";this.$VideoPlayerHTML5Api0.setAttribute('preload','auto');this.$VideoPlayerHTML5Apie=true;this.$VideoPlayerHTML5Api0.load();this.$VideoPlayerHTML5Api0.muted=this.$VideoPlayerHTML5Api7;};pa.prototype.seek=function(qa){"use strict";this.$VideoPlayerHTML5Api0.currentTime=qa;};pa.prototype.removeRotation=function(){"use strict";j.removeClass(this.$VideoPlayerHTML5Api0,"_56jr");j.removeClass(this.$VideoPlayerHTML5Api0,"_56js");j.removeClass(this.$VideoPlayerHTML5Api0,"_56jt");this.$VideoPlayerHTML5Api0.style.marginLeft='';this.$VideoPlayerHTML5Api0.style.marginTop='';this.$VideoPlayerHTML5Api0.style.width='';this.$VideoPlayerHTML5Api0.style.height='';};pa.prototype.applyRotation=function(qa){"use strict";if(!qa)return;j.conditionClass(this.$VideoPlayerHTML5Api0,"_56jr",qa==90);j.conditionClass(this.$VideoPlayerHTML5Api0,"_56js",qa==180);j.conditionClass(this.$VideoPlayerHTML5Api0,"_56jt",qa==270);if(qa==180)return;var ra=this.$VideoPlayerHTML5Api3,sa=this.$VideoPlayerHTML5Api2,ta=(ra-sa)/2,ua=(sa-ra)/2;this.$VideoPlayerHTML5Api0.style.marginLeft=ua+'px';this.$VideoPlayerHTML5Api0.style.marginTop=ta+'px';this.$VideoPlayerHTML5Api0.style.height=sa+'px';this.$VideoPlayerHTML5Api0.style.width=ra+'px';};pa.prototype.switchVideo=function(qa){"use strict";if(!this.$VideoPlayerHTML5Api4.videoData||this.$VideoPlayerHTML5Api4.videoData.length<=qa)return;this.$VideoPlayerHTML5Apiq=new s(this.$VideoPlayerHTML5Api4.videoData[qa]);this.$VideoPlayerHTML5Api0.src=this.$VideoPlayerHTML5Apiu();this.$VideoPlayerHTML5ApiD&&this.$VideoPlayerHTML5ApiD.removeSubtitles();if(this.$VideoPlayerHTML5Apiq.hasSubtitles())i.loadModules(["VideoPlayerHTML5Subtitles"],function(ra){if(!this.$VideoPlayerHTML5ApiD){this.$VideoPlayerHTML5ApiD=new ra(this.$VideoPlayerHTML5Api0);this.$VideoPlayerHTML5ApiD.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5ApiE();}.bind(this));}this.$VideoPlayerHTML5ApiD.loadSubtitles(this.$VideoPlayerHTML5Apiq.getSubtitlesSrc());}.bind(this));this.removeRotation();this.applyRotation(this.$VideoPlayerHTML5Apiq.getRotation());};pa.prototype.unmute=function(){"use strict";this.$VideoPlayerHTML5Api8=false;this.$VideoPlayerHTML5Api0.muted=false;};pa.prototype.mute=function(){"use strict";this.$VideoPlayerHTML5Api0.muted=true;};pa.prototype.setDimensions=function(qa,ra){"use strict";this.removeRotation();this.$VideoPlayerHTML5Api2=qa;this.$VideoPlayerHTML5Api3=ra;this.applyRotation(this.$VideoPlayerHTML5Apiq.getRotation());if(this.$VideoPlayerHTML5ApiF)this.$VideoPlayerHTML5ApiF.updateDimensions();if(this.$VideoPlayerHTML5Apiw){this.$VideoPlayerHTML5Apis.width=qa;this.$VideoPlayerHTML5Apis.height=ra;this.$VideoPlayerHTML5Apiw.updateViewportDimensions();}};pa.prototype.$VideoPlayerHTML5ApiG=function(){"use strict";this.$VideoPlayerHTML5Api0.controls=!this.$VideoPlayerHTML5Apif;};pa.prototype.$VideoPlayerHTML5Apii=function(){"use strict";this.$VideoPlayerHTML5Api0.controls=this.$VideoPlayerHTML5Apig&&!this.$VideoPlayerHTML5Apif;};pa.prototype.$VideoPlayerHTML5Apik=function(){"use strict";this.$VideoPlayerHTML5Apij.addSubscriptions(n.listen(this.$VideoPlayerHTML5Api0,'playing',this.$VideoPlayerHTML5ApiH.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'play',this.$VideoPlayerHTML5Apiz.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'ended',this.$VideoPlayerHTML5ApiI.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'error',this.$VideoPlayerHTML5ApiJ.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'waiting',this.$VideoPlayerHTML5ApiK.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'pause',this.$VideoPlayerHTML5ApiL.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'volumechange',this.$VideoPlayerHTML5ApiM.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'mousedown',this.$VideoPlayerHTML5ApiN.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'mouseup',this.$VideoPlayerHTML5ApiO.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'timeupdate',this.$VideoPlayerHTML5ApiP.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'click',this.$VideoPlayerHTML5ApiQ.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'loadedmetadata',this.$VideoPlayerHTML5ApiR.bind(this)),n.listen(this.$VideoPlayerHTML5Api0,'progress',this.$VideoPlayerHTML5ApiS.bind(this)),n.capture(this.$VideoPlayerHTML5Api0.parentNode,'pause',this.$VideoPlayerHTML5ApiT.bind(this)));};pa.prototype.$VideoPlayerHTML5ApiT=function(qa){"use strict";if(qa.target!==this.$VideoPlayerHTML5Api0)return;if(!this.$VideoPlayerHTML5Api0.ended){if(this.$VideoPlayerHTML5Apic==='unloaded'){this.preventPauseLoggingInMixin=false;qa.preventDefault();qa.stopPropagation();}qa.lastPauseReason=this.$VideoPlayerHTML5Apic;}};pa.prototype.$VideoPlayerHTML5ApiS=function(){"use strict";var qa=this.$VideoPlayerHTML5Api0.buffered,ra=0,sa=0,ta=qa.length;while(ta-->0){var ua=qa.end(ta),va=qa.start(ta);if(va<=this.$VideoPlayerHTML5Api0.currentTime){sa=va;ra=ua-va;break;}}this.$VideoPlayerHTML5Apip();this.$VideoPlayerHTML5ApiU('flash/updateBuffer',{duration:ra,offset:sa});};pa.prototype.$VideoPlayerHTML5Apip=function(){"use strict";clearTimeout(this.$VideoPlayerHTML5ApiV);if(this.$VideoPlayerHTML5Api0.networkState===this.$VideoPlayerHTML5Api0.NETWORK_LOADING)this.$VideoPlayerHTML5ApiV=setTimeout(function(){return this.$VideoPlayerHTML5ApiW();}.bind(this),pa.networkTimeout);};pa.prototype.$VideoPlayerHTML5ApiW=function(){"use strict";var qa=this.$VideoPlayerHTML5Api0.buffered,ra=0;for(var sa=0;sa<qa.length;sa++){var ta=qa.start(sa),ua=qa.end(sa);ra+=ua-ta;}this.$VideoPlayerHTML5Apio(v.NETWORK_TIMEOUT,{buffered:ra});};pa.prototype.$VideoPlayerHTML5ApiP=function(){"use strict";var qa;if(this.$VideoPlayerHTML5ApiA){qa=this.$VideoPlayerHTML5ApiA.currentTime;}else qa=this.$VideoPlayerHTML5Api0.currentTime;this.$VideoPlayerHTML5ApiU('flash/updateStatus',{position:+qa.toFixed(3)});};pa.prototype.$VideoPlayerHTML5ApiQ=function(qa){"use strict";if(qa.button!==0)return;this.emit('clickVideo');qa.preventDefault();qa.stopPropagation();};pa.prototype.$VideoPlayerHTML5ApiX=function(){"use strict";var qa=this.$VideoPlayerHTML5Api0.buffered;return (qa.length&&qa.start(0)===0&&qa.end(0)===this.$VideoPlayerHTML5Api0.duration);};pa.prototype.$VideoPlayerHTML5ApiK=function(){"use strict";if(!this.$VideoPlayerHTML5ApiX()){this.$VideoPlayerHTML5ApiY=true;this.$VideoPlayerHTML5ApiU('flash/buffering');}};pa.prototype.setVolume=function(qa){"use strict";this.$VideoPlayerHTML5Api0.volume=qa;};pa.prototype.$VideoPlayerHTML5ApiM=function(){"use strict";if(this.$VideoPlayerHTML5Api0.muted!==this.$VideoPlayerHTML5Api7&&this.$VideoPlayerHTML5Api0.volume===this.$VideoPlayerHTML5Api9&&this.$VideoPlayerHTML5Api0.volume>0){if(!this.$VideoPlayerHTML5Api0.muted){this.$VideoPlayerHTML5ApiU('flash/unmuteVideo');}else this.$VideoPlayerHTML5ApiU('flash/muteVideo');}else this.$VideoPlayerHTML5ApiU('flash/changeVolume',{volume:this.$VideoPlayerHTML5Api0.volume});if(!this.$VideoPlayerHTML5Api0.muted)this.$VideoPlayerHTML5ApiU('flash/turnOffAutoplay',{reason:'unmuted'});this.$VideoPlayerHTML5Api7=this.$VideoPlayerHTML5Api0.muted;this.$VideoPlayerHTML5Api9=this.$VideoPlayerHTML5Api0.volume;};pa.prototype.$VideoPlayerHTML5ApiN=function(qa){"use strict";if(qa.button===0)this.$VideoPlayerHTML5Apia=true;};pa.prototype.$VideoPlayerHTML5ApiO=function(qa){"use strict";if(qa.button===0)this.$VideoPlayerHTML5Apia=false;};pa.prototype.$VideoPlayerHTML5ApiH=function(qa){"use strict";if(this.$VideoPlayerHTML5ApiY){this.$VideoPlayerHTML5ApiY=false;this.$VideoPlayerHTML5ApiU('flash/buffered');}};pa.prototype.$VideoPlayerHTML5Apiz=function(qa){"use strict";this.$VideoPlayerHTML5Apit=true;this.$VideoPlayerHTML5Apid=false;this.$VideoPlayerHTML5ApiG();this.$VideoPlayerHTML5ApiU('flash/beginPlayback',{position:this.$VideoPlayerHTML5Api0.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Apiy});this.$VideoPlayerHTML5Apip();};pa.prototype.$VideoPlayerHTML5ApiL=function(qa){"use strict";if(this.$VideoPlayerHTML5Api0.ended){this.$VideoPlayerHTML5Apit=false;return;}if(this.$VideoPlayerHTML5Api0.seeking&&this.$VideoPlayerHTML5Apic===w.SEEK)return;if(this.$VideoPlayerHTML5Apia)return;if(this.$VideoPlayerHTML5Apic===w.SEEK){this.$VideoPlayerHTML5Apic=null;return;}if(this.$VideoPlayerHTML5Apic===null||this.$VideoPlayerHTML5Apic===w.USER)this.$VideoPlayerHTML5ApiU('flash/turnOffAutoplay',{reason:'manually_paused'});this.$VideoPlayerHTML5Apic=null;this.$VideoPlayerHTML5Apit=false;this.$VideoPlayerHTML5Apii();this.$VideoPlayerHTML5ApiU('flash/pausePlayback',{position:this.$VideoPlayerHTML5Api0.currentTime.toFixed(2)});};pa.prototype.$VideoPlayerHTML5ApiI=function(){"use strict";if(this.$VideoPlayerHTML5ApiA)return;this.$VideoPlayerHTML5Apii();this.$VideoPlayerHTML5Apit=false;this.$VideoPlayerHTML5ApiU('flash/finishPlayback');if(this.$VideoPlayerHTML5Apiw){this.$VideoPlayerHTML5ApiZ=0;this.$VideoPlayerHTML5Api10=0;this.$VideoPlayerHTML5Api11=0;this.$VideoPlayerHTML5Api12=false;this.$VideoPlayerHTML5Api13=false;}};pa.prototype.setSphericalViewport=function(qa,ra){"use strict";this.$VideoPlayerHTML5Api10=qa;this.$VideoPlayerHTML5Api11=ra;};pa.prototype.$VideoPlayerHTML5ApiR=function(){"use strict";this.$VideoPlayerHTML5ApiU('flash/updateMetadata');};pa.prototype.$VideoPlayerHTML5ApiJ=function(){"use strict";if(!this.$VideoPlayerHTML5Api0.error)return;this.emit('error',{error:ia(this.$VideoPlayerHTML5Api0.error.code),isPlayback:this.$VideoPlayerHTML5Apid,message:ha(this.$VideoPlayerHTML5Api0.error.code)});};pa.prototype.$VideoPlayerHTML5Apio=function(event,qa){"use strict";qa.player_version=x.PLEASANTVILLE;qa.projection=this.$VideoPlayerHTML5Apiv();this.$VideoPlayerHTML5ApiU('flash/logEvent',{logData:Object.assign({event:event},qa)});};pa.prototype.$VideoPlayerHTML5ApiU=function(event,qa){"use strict";h.inform(event,Object.assign({divID:this.$VideoPlayerHTML5Api1},qa));this.emit(event.substr('flash/'.length),qa);};pa.prototype.getLastPlayReason=function(){"use strict";return this.$VideoPlayerHTML5Apiy;};pa.prototype.getVideoPlayReason=function(){"use strict";return this.$VideoPlayerHTML5Apix;};pa.prototype.isMuted=function(){"use strict";return this.$VideoPlayerHTML5Api7;};pa.prototype.getPlaybackDuration=function(){"use strict";if(this.$VideoPlayerHTML5ApiA)return this.$VideoPlayerHTML5ApiA.playbackDuration;return this.$VideoPlayerHTML5Api0.duration||0;};pa.prototype.getVolume=function(){"use strict";return this.$VideoPlayerHTML5Api0.volume;};pa.prototype.hasHD=function(){"use strict";if(!this.$VideoPlayerHTML5Apiq)return false;return this.$VideoPlayerHTML5Apiq.hasHD();};pa.prototype.isHD=function(){"use strict";return this.$VideoPlayerHTML5Apim;};pa.prototype.$VideoPlayerHTML5Apiu=function(){"use strict";if(this.$VideoPlayerHTML5Apiw){return (this.$VideoPlayerHTML5Apim&&this.$VideoPlayerHTML5Apiq.hasSphericalHD())?this.$VideoPlayerHTML5Apiq.getPlayableSrcSphericalHD():this.$VideoPlayerHTML5Apiq.getPlayableSrcSphericalSD();}else if(this.$VideoPlayerHTML5Apim&&this.$VideoPlayerHTML5Apiq.hasHD()){return this.$VideoPlayerHTML5Api14();}else return this.$VideoPlayerHTML5Api15();};pa.prototype.$VideoPlayerHTML5Api14=function(){"use strict";if(this.$VideoPlayerHTML5Apil){return this.$VideoPlayerHTML5Apiq.getPlayableSrcRateLimitedHD();}else return this.$VideoPlayerHTML5Apiq.getPlayableSrcHD();};pa.prototype.$VideoPlayerHTML5Api15=function(){"use strict";if(this.$VideoPlayerHTML5Apil){return this.$VideoPlayerHTML5Apiq.getPlayableSrcRateLimitedSD();}else return this.$VideoPlayerHTML5Apiq.getPlayableSrcSD();};pa.prototype.toggleSubtitles=function(){"use strict";this.$VideoPlayerHTML5Apih=!this.$VideoPlayerHTML5Apih;if(this.$VideoPlayerHTML5Apih){this.$VideoPlayerHTML5ApiD&&this.$VideoPlayerHTML5ApiD.showSubtitles();}else this.$VideoPlayerHTML5ApiD&&this.$VideoPlayerHTML5ApiD.hideSubtitles();this.emit('toggleSubtitles');};pa.prototype.hasSubtitles=function(){"use strict";return this.$VideoPlayerHTML5Apiq.hasSubtitles();};pa.prototype.areSubtitlesActive=function(){"use strict";return this.$VideoPlayerHTML5Apih;};pa.prototype.$VideoPlayerHTML5ApiE=function(){"use strict";if(this.$VideoPlayerHTML5Apih)this.$VideoPlayerHTML5ApiD&&this.$VideoPlayerHTML5ApiD.showSubtitles();this.emit('loadedSubtitles');};pa.prototype.$VideoPlayerHTML5Api16=function(){"use strict";if(this.$VideoPlayerHTML5Apiw)return;if(!this.$VideoPlayerHTML5ApiF){var qa=l.getElementDimensions(this.$VideoPlayerHTML5Api0),ra=k.create('canvas',{width:qa.width,height:qa.height,className:"_22nr"});k.insertAfter(this.$VideoPlayerHTML5Api0,ra);this.$VideoPlayerHTML5ApiF=new u(ra,this.$VideoPlayerHTML5Api0);}j.show(this.$VideoPlayerHTML5ApiF.getDOMNode());this.$VideoPlayerHTML5ApiF.updateFrameBuffer();j.hide(this.$VideoPlayerHTML5Api0);};pa.prototype.$VideoPlayerHTML5Api17=function(){"use strict";if(!this.$VideoPlayerHTML5ApiF)return;j.hide(this.$VideoPlayerHTML5ApiF.getDOMNode());if(!this.$VideoPlayerHTML5Apiw)j.show(this.$VideoPlayerHTML5Api0);};pa.prototype.$VideoPlayerHTML5ApiB=function(){"use strict";if(!this.$VideoPlayerHTML5ApiA)return;this.$VideoPlayerHTML5Api0.src=this.$VideoPlayerHTML5Apiu();this.$VideoPlayerHTML5Api0.currentTime=this.$VideoPlayerHTML5ApiA.currentTime;this.$VideoPlayerHTML5Api0.muted=this.$VideoPlayerHTML5ApiA.mutedState;if(this.$VideoPlayerHTML5ApiA.currentTime){var qa=n.listen(this.$VideoPlayerHTML5Api0,'seeked',function(){qa.remove();this.$VideoPlayerHTML5Api17();}.bind(this));}else var ra=n.listen(this.$VideoPlayerHTML5Api0,'loadeddata',function(){ra.remove();this.$VideoPlayerHTML5Api17();}.bind(this));this.$VideoPlayerHTML5ApiA=null;};pa.prototype.abortLoading=function(){"use strict";this.$VideoPlayerHTML5Api16();var qa=this.$VideoPlayerHTML5Api0.currentTime,ra=this.isMuted(),sa=this.$VideoPlayerHTML5Api0.duration,ta=this.$VideoPlayerHTML5Api0.paused;this.$VideoPlayerHTML5ApiA={mutedState:ra,currentTime:qa,playbackDuration:sa};this.$VideoPlayerHTML5Api0.src=this.$VideoPlayerHTML5Api4.abortDummy||'short-400x224.mp4';this.$VideoPlayerHTML5Api0.load();if(ta&&this.$VideoPlayerHTML5Apit)ka(this.$VideoPlayerHTML5Api0,'pause');};pa.prototype.toggleHD=function(){"use strict";if(!this.$VideoPlayerHTML5Apiq)return;var qa=this.$VideoPlayerHTML5Api0.currentTime;this.$VideoPlayerHTML5Apim=!this.$VideoPlayerHTML5Apim;this.$VideoPlayerHTML5Api0.src=this.$VideoPlayerHTML5Apiu();da.once(this.$VideoPlayerHTML5Api0,function(){this.$VideoPlayerHTML5Api0.currentTime=qa;if(this.$VideoPlayerHTML5Apid)this.$VideoPlayerHTML5Api0.play();this.emit('qualityChange');}.bind(this));this.$VideoPlayerHTML5Apio(v.PAUSED,this.addWatchTimeData({reason:'toggle_hd'}));this.$VideoPlayerHTML5Apio(v.REQUESTED_PLAYING,{reason:w.USER});this.$VideoPlayerHTML5Apid=true;this.$VideoPlayerHTML5ApiC();};pa.prototype.$VideoPlayerHTML5Api18=function(qa){"use strict";this.$VideoPlayerHTML5Api19=true;this.$VideoPlayerHTML5Api1a=m.listen(a.document.body,'mousemove',function(ra){return this.$VideoPlayerHTML5Api1b(ra);}.bind(this));this.$VideoPlayerHTML5Api1c=m.listen(a.document.body,'mouseup',function(ra){return this.$VideoPlayerHTML5Api1d(ra);}.bind(this));this.$VideoPlayerHTML5Api1e={x:qa.screenX,y:qa.screenY};this.$VideoPlayerHTML5Api1f={yaw:this.$VideoPlayerHTML5Api10,pitch:this.$VideoPlayerHTML5Api11};this.emit('updateViewportBegin');j.addClass(qa.target,"_uti");m.kill(qa);};pa.prototype.$VideoPlayerHTML5Api1b=function(qa){"use strict";if(this.$VideoPlayerHTML5Api19){var ra=.5,sa=qa.screenX-this.$VideoPlayerHTML5Api1e.x,ta=qa.screenY-this.$VideoPlayerHTML5Api1e.y,ua=this.$VideoPlayerHTML5Api1f.pitch,va=this.$VideoPlayerHTML5Api1f.yaw;this.setSphericalViewport(va-sa*ra,ua-ta*ra);m.kill(qa);}};pa.prototype.$VideoPlayerHTML5Api1d=function(qa){"use strict";if(this.$VideoPlayerHTML5Api19){this.$VideoPlayerHTML5Api19=false;this.$VideoPlayerHTML5Api1a.remove();this.$VideoPlayerHTML5Api1c.remove();j.removeClass(qa.target,"_uti");this.emit('updateViewportEnd');m.kill(qa);}};pa.prototype.$VideoPlayerHTML5Apir=function(){"use strict";var qa=l.getElementDimensions(this.$VideoPlayerHTML5Api0),ra=k.create('canvas',{width:qa.width,height:qa.height,className:"_1gci"});m.listen(ra,'mousedown',function(ua){return this.$VideoPlayerHTML5Api18(ua);}.bind(this));k.insertAfter(this.$VideoPlayerHTML5Api0,ra);var sa=new this.$VideoPlayerHTML5Api4.VideoSphericalRenderer(this.$VideoPlayerHTML5Api0,ra),ta={projectionType:this.$VideoPlayerHTML5Apiv(),expansionCoef:1.01};if(sa.init(ta)){j.hide(this.$VideoPlayerHTML5Api0);j.show(ra);this.$VideoPlayerHTML5Api1g=fa();this.$VideoPlayerHTML5ApiZ=0;this.$VideoPlayerHTML5Api10=0;this.$VideoPlayerHTML5Api11=0;this.$VideoPlayerHTML5Api1h=false;this.$VideoPlayerHTML5Apis=ra;this.$VideoPlayerHTML5Apiw=sa;this.$VideoPlayerHTML5Api0.src=this.$VideoPlayerHTML5Apiu();this.$VideoPlayerHTML5Api1i();}else ra.parentNode.removeChild(ra);};pa.getPlayerVersion=function(){"use strict";return 'pleasantville';};pa.prototype.$VideoPlayerHTML5Api1i=function(){"use strict";ga(function(){return this.$VideoPlayerHTML5Api1i();}.bind(this));if(!this.$VideoPlayerHTML5Api0.paused&&(this.$VideoPlayerHTML5Api0.readyState>=this.$VideoPlayerHTML5Api0.HAVE_CURRENT_DATA)){var qa=30,ra=fa();if((ra-this.$VideoPlayerHTML5Api1g)>=(1000/qa)){this.$VideoPlayerHTML5ApiZ++;this.$VideoPlayerHTML5Api1g=ra;this.$VideoPlayerHTML5Apiw.render(this.$VideoPlayerHTML5Api10,this.$VideoPlayerHTML5Api11);}}};pa.prototype.$VideoPlayerHTML5Apiv=function(){"use strict";return this.$VideoPlayerHTML5Apiq.getProjection();};pa.networkTimeout=5000;e.exports=pa;},null);
__d("VideoPlaybackControl.react",["React","AbstractButton.react","Image.react","ReactComponentWithPureRenderMixin","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=g,o=n.PropTypes,p=g.createClass({displayName:"PlaybackControl",mixins:[j],propTypes:{isPlaying:o.bool,onPlay:o.func,onPause:o.func,tabIndex:o.string},getInitialState:function(){return {awaitingUpdate:false};},isPlaying:function(){if(this.state.awaitingUpdate)return this.state.isPlayingOverwrite;return this.props.isPlaying;},onButtonClick:function(){var q=this.isPlaying();this.setState({awaitingUpdate:true,isPlayingOverwrite:!q});if(q){this.props.onPause&&this.props.onPause();}else this.props.onPlay&&this.props.onPlay();},componentWillReceiveProps:function(){this.setState({awaitingUpdate:false});},render:function(){var q=this.isPlaying()?m('images/video/player/controls/hq_icons/pause.png'):m('images/video/player/controls/hq_icons/play.png'),r=g.createElement(i,{src:q,className:"_zbc"}),s=(("_zbd")+(' '+"_1fmx")),t=this.isPlaying()?l._("Pause"):l._("Play");return g.createElement(h,{"aria-label":t,tabIndex:this.props.tabIndex,type:"button",image:r,className:s,onClick:this.onButtonClick});}});e.exports=p;},null);
__d("VideoFullscreenControl.react",["AbstractVideoFullscreenControl.react","Image.react","React","ReactComponentWithPureRenderMixin","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=i,o=n.PropTypes,p=i.createClass({displayName:"VideoFullscreenControl",mixins:[j],propTypes:{isFullscreen:o.bool,onToggleFullscreen:o.func,tabIndex:o.string},render:function(){var q=i.createElement(h,{src:m('images/video/player/controls/hq_icons/fullscreen.png')});return (i.createElement(g,i.__spread({"aria-label":l._("Full screen toggle"),tabIndex:this.props.tabIndex,type:"button"},this.props,{className:"_zbd",image:q})));}});e.exports=p;},null);
__d("VideoVolumeSlider.react",["EventListener","React","ReactComponentWithPureRenderMixin","cx","getElementPosition","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"VideoVolumeSlider",mixins:[i],propTypes:{volume:n.number,onVolumeChange:n.func},getInitialState:function(){return {engaged:false};},componentWillReceiveProps:function(p){this.setState({awaitingUpdate:false});},componentDidUpdate:function(p,q){if(!this.state.engaged&&q.engaged){this._mouseUpListener.remove();this._mouseMoveListener.remove();}else if(this.state.engaged&&!q.engaged){this._mouseMoveListener=g.listen(document,'mousemove',l(this.onMouseMove,50,this));this._mouseUpListener=g.listen(document,'mouseup',this.onMouseUp);}},onMouseDown:function(p){if(p.button!==0)return;this.setState({engaged:true,volume:this.getClampedClickPositionVolume(p.clientY)});p.preventDefault();p.stopPropagation();},getClampedClickPositionVolume:function(p){var q=k(h.findDOMNode(this.refs.slider)),r=k(h.findDOMNode(this.refs.nub)).height,s=q.y-p+q.height+r/2;return Math.max(0,Math.min(1,s/q.height));},onMouseUp:function(p){this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);this.setState({engaged:false,awaitingUpdate:true});p.preventDefault();p.stopPropagation();},onMouseMove:function(p){this.setState({volume:this.getClampedClickPositionVolume(p.clientY)});this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);p.preventDefault();p.stopPropagation();},getVolume:function(){if(this.state.engaged||this.state.awaitingUpdate)return this.state.volume;return this.props.volume;},render:function(){var p={height:Math.round(this.getVolume()*100)+'%'},q=(("_3pao")+(this.state.engaged?' '+"_2yu6":''));return h.createElement("div",{onMouseDown:this.onMouseDown,className:q},h.createElement("div",{ref:"slider",className:"_3paq"},h.createElement("div",{style:p,className:"_3par"},h.createElement("div",{ref:"nub",className:"_3pas"}))),h.createElement("div",{className:"_3pat"}));}});e.exports=o;},null);
__d("VideoVolumeControl.react",["AbstractButton.react","Image.react","React","ReactComponentWithPureRenderMixin","VideoVolumeSlider.react","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=i,p=o.PropTypes,q=i.createClass({displayName:"VideoVolumeControl",mixins:[j],propTypes:{volume:p.number,isMuted:p.bool,tabIndex:p.string,onVolumeChange:p.func,onToggleMuted:p.func},getInitialState:function(){return {awaitingMuteUpdate:false,awaitingVolumeUpdate:false};},onButtonClick:function(){this.props.onToggleMuted&&this.props.onToggleMuted();},getVolume:function(){if(this.props.isMuted)return 0;return this.props.volume;},onSliderVolumeChange:function(r){if(r>0&&this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();this.props.onVolumeChange&&this.props.onVolumeChange(r);},render:function(){var r=!this.getVolume()?n('images/video/player/controls/hq_icons/muted.png'):n('images/video/player/controls/hq_icons/volume.png'),s=i.createElement(h,{src:r}),t=!this.getVolume()?m._("Unmute"):m._("Mute");return i.createElement("div",{className:"_2swo"},i.createElement(k,{onVolumeChange:this.onSliderVolumeChange,volume:this.getVolume()}),i.createElement(g,{"aria-label":t,type:"button",className:"_zbd",image:s,onClick:this.onButtonClick,tabIndex:this.props.tabIndex}));}});e.exports=q;},null);
__d("VideoPlaybackTimer.react",["React","ReactComponentWithPureRenderMixin","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"PlaybackTimer",mixins:[h],propTypes:{playbackPosition:k.number,playbackDuration:k.number},getClock:function(m){var n=Math.floor(m/3600),o=m-n*3600,p=Math.floor(o/60),q=Math.floor(o-p*60),r=('0'+p).slice(-2),s=('0'+q).slice(-2);if(n===0){return (g.createElement("span",{className:"_5qsq"},p,":",s));}else return (g.createElement("span",{className:"_5qsq"},n,":",r,":",s));},getPosition:function(){return this.getClock(this.props.playbackPosition);},getDuration:function(){return this.getClock(this.props.playbackDuration);},render:function(){return (g.createElement("div",{className:"_5qsr"},this.getPosition(),"/",this.getDuration()));}});e.exports=l;},null);
__d("VideoScrubber.react",["EventListener","React","ReactComponentWithPureRenderMixin","getElementPosition","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h,m=l.PropTypes,n=h.createClass({displayName:"VideoScrubber",mixins:[i],propTypes:{playbackPosition:m.number,playbackDuration:m.number,bufferedPosition:m.number,onScrubBegin:m.func,onScrubEnd:m.func},getInitialState:function(){return {nubEngaged:false};},onDragNubBegin:function(o){if(o.button!==0)return;var p=j(h.findDOMNode(this.refs.bar));this.setState({nubEngaged:true,scrubRatio:this.getClampedClickPositionProgress(o.clientX,p),barCoords:p});this.props.onScrubBegin&&this.props.onScrubBegin();o.stopPropagation();o.preventDefault();},componentWillReceiveProps:function(o){if(this.props.playbackPosition!==o.playbackPosition)this.setState({awaitingUpdate:false});},componentDidUpdate:function(o,p){if(!p.nubEngaged&&this.state.nubEngaged){this._mouseMoveListener=g.listen(document,'mousemove',this.onDragNubUpdate);this._mouseUpListener=g.listen(document,'mouseup',this.onDragNubRelease);}else if(p.nubEngaged&&!this.state.nubEngaged){this._mouseMoveListener.remove();this._mouseUpListener.remove();}},getClampedClickPositionProgress:function(o,p){var q=o-p.x,r=q/p.width;return Math.min(Math.max(0,r),1);},onDragNubUpdate:function(o){this.setState({scrubRatio:this.getClampedClickPositionProgress(o.clientX,this.state.barCoords)});o.preventDefault();o.stopPropagation();},onDragNubRelease:function(o){var p={nubEngaged:false};if(this.props.onScrubEnd){this.props.onScrubEnd(this.state.scrubRatio*this.props.playbackDuration);Object.assign(p,{awaitingUpdate:true});}this.setState(p);o.preventDefault();o.stopPropagation();},getPlayedRatio:function(){if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;return this.props.playbackPosition/this.props.playbackDuration;},getBufferedRatio:function(){return this.props.bufferedPosition/this.props.playbackDuration;},render:function(){var o=(("_2yu5")+(this.state.nubEngaged?' '+"_2yu6":'')),p={width:(this.getPlayedRatio()*100)+'%'},q={width:(this.getBufferedRatio()*100)+'%'};return (h.createElement("div",{onMouseDown:this.onDragNubBegin,className:o},h.createElement("div",{className:"_2yu7",ref:"bar"},h.createElement("div",{style:q,className:"_2yu8"}),h.createElement("div",{className:"_2yu9",style:p},h.createElement("div",{className:"_2yua"})))));}});e.exports=n;},null);
__d("VideoControls.react",["BootloadedComponent.react","JSResource","React","VideoPlaybackControl.react","VideoFullscreenControl.react","VideoVolumeControl.react","VideoPlaybackTimer.react","VideoScrubber.react","MeasuredComponent.react","ReactComponentWithPureRenderMixin","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=i,s=r.PropTypes,t=i.createClass({displayName:"VideoControls",mixins:[p],propTypes:{areSubtitlesActive:s.bool,hasHD:s.bool,hasSubtitles:s.bool,hasWatchAndScroll:s.bool,hidden:s.bool,isFullscreen:s.bool,isHD:s.bool,isLive:s.bool,isMuted:s.bool,isPlaying:s.bool,isWatchAndScrollActive:s.bool,onPause:s.func,onPlay:s.func,onSeek:s.func,onToggleFullscreen:s.func,onToggleHD:s.func,onToggleMuted:s.func,onToggleSubtitles:s.func,onToggleWatchAndScroll:s.func,onVolumeChange:s.func,playbackDuration:s.number,playbackPosition:s.number,volume:s.number},getInitialState:function(){return {minimal:false};},isHidden:function(){return this.props.hidden;},onMeasureCenterGroup:function(u){if(u.width!==0){var v=u.width<t.minimumProgressBarWidth;this.setState({minimal:v});}},componentDidUpdate:function(u,v){var w=this.props.isFullscreen!==u.isFullscreen,x=this.props.hidden!==u.hidden&&!this.props.hidden;if(w||x)this.refs.measuredComponent.measure();},render:function(){var u=(("_1c7d")+(this.isHidden()?' '+"_1c7e":'')),v="_1c7f _1c7g",w="_1c7f _1c7h",x="_1c7f _2pvx",y=null,z=(this.props.isPlaying)?"0":"-1",aa=!this.props.isWatchAndScrollActive||this.props.isFullscreen;if(!this.state.minimal&&aa&&!this.props.isLive)y=(i.createElement(m,{playbackPosition:this.props.playbackPosition,playbackDuration:this.props.playbackDuration}));var ba=null;if(this.props.hasHD&&aa&&!this.props.isLive)ba=(i.createElement(g,{bootloadLoader:h('VideoQualityControl.react'),bootloadPlaceholder:i.createElement("span",null),isHD:this.props.isHD,onToggleHD:this.props.onToggleHD,tabIndex:z}));var ca=null;if(this.props.hasSubtitles&&aa)ca=(i.createElement(g,{bootloadLoader:h('VideoClosedCaptionsControl.react'),bootloadPlaceholder:i.createElement("span",null),areClosedCaptionsActive:this.props.areSubtitlesActive,onToggleClosedCaptions:this.props.onToggleSubtitles,tabIndex:z}));var da=null;if(this.props.hasWatchAndScroll&&!this.props.isWatchAndScrollActive&&!this.props.isFullscreen)da=(i.createElement(g,{bootloadLoader:h('VideoWatchAndScrollControl.react'),bootloadPlaceholder:i.createElement("span",null),isWatchAndScrollActive:this.props.isWatchAndScrollActive,onToggleWatchAndScroll:this.props.onToggleWatchAndScroll}));var ea=null,fa=null;if(!this.props.isLive){fa=(i.createElement(j,{onPlay:this.props.onPlay,onPause:this.props.onPause,tabIndex:z,isPlaying:this.props.isPlaying}));ea=(i.createElement(n,{playbackPosition:this.props.playbackPosition,playbackDuration:this.props.playbackDuration,onScrubEnd:this.props.onScrubEnd,onScrubBegin:this.props.onScrubBegin,bufferedPosition:this.props.bufferedPosition}));}return (i.createElement("div",{className:u},i.createElement("div",{className:v},fa),i.createElement(o,{onMeasure:this.onMeasureCenterGroup,ref:"measuredComponent"},i.createElement("div",{className:x},ea)),i.createElement("div",{className:w},y,i.createElement(l,{isMuted:this.props.isMuted,tabIndex:z,volume:this.props.volume,onVolumeChange:this.props.onVolumeChange,onToggleMuted:this.props.onToggleMuted}),ca,ba,da,i.createElement(k,{onToggleFullscreen:this.props.onToggleFullscreen,isFullscreen:this.props.isFullscreen,tabIndex:z}))));}});t.minimumProgressBarWidth=180;e.exports=t;},null);
__d("VideoControls",["fbt","DeferredComponent.react","Event","EventListener","Keys","React","VideoPlayerReason","cancelAnimationFrame","containsNode","destroyOnUnload","getActiveElement","logVideosClickTracking","throttle","requestAnimationFrame"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();function u(v,w,x){"use strict";this.$VideoControls0=v;this.$VideoControls1=w;this.$VideoControls2=x.hidePaused;this.$VideoControls3=x.hideWhenFinishedInFullscreen;this.$VideoControls4=x.hasWatchAndScroll;this.$VideoControls5=x.isLive;this.$VideoControls6=false;this.$VideoControls7=0;this.$VideoControls8=0;this.$VideoControls9=0;this.$VideoControlsa=false;this.$VideoControlsb=x.lessFrequentRender;p(function(){return l.unmountComponentAtNode(w);});var y=this.$VideoControls0.getRootNode();j.listen(y,'mousemove',s(this.flashControls.bind(this),200));if(!y.getAttribute('tabindex'))y.setAttribute('tabindex','0');y.setAttribute('aria-label',g._("Video"));j.listen(y,'keydown',function(aa){if(i.getKeyCode(aa)===k.SPACE){if(this.$VideoControls0.isState('playing')){this.pause();}else this.play();i.kill(aa);}}.bind(this));j.listen(this.$VideoControls1,'focusin',function(){this.$VideoControlsc=true;this.scheduleRenderReactComponent();}.bind(this));j.listen(this.$VideoControls1,'focusout',function(){if(!o(this.$VideoControls1,q())){this.$VideoControlsc=false;this.scheduleRenderReactComponent();}}.bind(this));j.listen(y,'mouseleave',function(){this.$VideoControlsd=false;this.scheduleRenderReactComponent();}.bind(this));j.listen(y,'mouseenter',function(){this.$VideoControlsd=true;this.scheduleRenderReactComponent();}.bind(this));this.scheduleRenderReactComponent();var z=['stateChange','unmuteVideo','muteVideo','toggleFullscreen','changeVolume','updateMetadata','qualityChange','pausePlayback','loadedSubtitles','toggleSubtitles'];z.forEach(function(event){return this.$VideoControls0.addListener(event,function(){return this.scheduleRenderReactComponentWithVideoInfoUpdate();}.bind(this));}.bind(this));this.$VideoControls0.addListener('beginPlayback',function(){return this.$VideoControlse();}.bind(this));this.$VideoControls0.addListener('updateStatus',function(aa){var ba=aa.position;this.$VideoControls8=ba;this.scheduleRenderReactComponent();}.bind(this));this.$VideoControls0.addListener('updateBuffer',function(aa){var ba=aa.duration,ca=aa.offset;this.$VideoControls7=ba+ca;this.scheduleRenderReactComponent();}.bind(this));this.$VideoControls0.addListener('enterWatchAndScroll',function(){return this.onEnterWatchAndScroll();}.bind(this));this.$VideoControls0.addListener('exitWatchAndScroll',function(){return this.onExitWatchAndScroll();}.bind(this));}u.prototype.$VideoControlse=function(){"use strict";this.flashControls();this.scheduleRenderReactComponentWithVideoInfoUpdate();};u.prototype.flashControls=function(){"use strict";if(!this.$VideoControlsf){this.$VideoControlsf=true;this.scheduleRenderReactComponent();}clearTimeout(this.$VideoControlsg);this.$VideoControlsg=setTimeout(function(){this.$VideoControlsf=false;this.scheduleRenderReactComponent();}.bind(this),3000);};u.prototype.areControlsVisible=function(){"use strict";if(this.$VideoControls0.isState('playing')){return this.$VideoControlsc||(this.$VideoControlsd&&this.$VideoControlsf);}else if(this.$VideoControls0.isState('finished')){return this.$VideoControls0.isFullscreen()&&!this.$VideoControls3;}else return this.$VideoControls0.isFullscreen()||!this.$VideoControls2;};u.prototype.scheduleRenderReactComponentWithVideoInfoUpdate=function(event){"use strict";this.$VideoControlsh=true;this.scheduleRenderReactComponent(event);};u.prototype.shouldRenderComponent=function(){"use strict";if(this.$VideoControls0.isState('loading')||this.$VideoControls0.isState('fallback'))return false;if(!this.$VideoControlsb)return true;if(this.areControlsVisible()){this.$VideoControlsa=false;return true;}if(!this.$VideoControlsa){this.$VideoControlsa=true;return true;}return false;};u.prototype.scheduleRenderReactComponent=function(event){"use strict";if(!this.shouldRenderComponent())return;n(this.$VideoControlsi);this.$VideoControlsi=t(this.renderReactComponent.bind(this));};u.prototype.renderReactComponent=function(){"use strict";if(this.$VideoControlsh){this.$VideoControlsj();this.$VideoControlsh=false;}l.render(l.createElement(h,{deferredPlaceholder:l.createElement("span",null),deferredComponent:function(v){return d(['VideoControls.react'],v);},areSubtitlesActive:this.$VideoControlsk,bufferedPosition:this.$VideoControls7,hasHD:this.$VideoControlsl,hasSubtitles:this.$VideoControlsm,hasWatchAndScroll:this.$VideoControls4,hidden:!this.areControlsVisible(),isFullscreen:this.$VideoControlsn,isHD:this.$VideoControlso,isLive:this.$VideoControls5,isMuted:this.$VideoControlsp,isPlaying:this.$VideoControlsq,isWatchAndScrollActive:this.$VideoControls6,onPause:this.pause.bind(this),onPlay:this.play.bind(this),onScrubBegin:this.scrubBegin.bind(this),onScrubEnd:this.scrubEnd.bind(this),onToggleFullscreen:this.toggleFullscreen.bind(this),onToggleHD:this.toggleHD.bind(this),onToggleMuted:this.toggleMuted.bind(this),onToggleSubtitles:this.toggleSubtitles.bind(this),onToggleWatchAndScroll:this.toggleWatchAndScroll.bind(this),onVolumeChange:this.changeVolume.bind(this),playbackDuration:this.$VideoControls9,playbackPosition:this.$VideoControls8,volume:this.$VideoControlsr}),this.$VideoControls1);};u.prototype.$VideoControlsj=function(){"use strict";var v=this.$VideoControls0.getVideoInfo();if(v){this.$VideoControlsk=v.areSubtitlesActive;this.$VideoControlsm=v.hasSubtitles;this.$VideoControlsl=v.hasHD;this.$VideoControlso=v.isHD;this.$VideoControlsp=v.isMuted;this.$VideoControlsq=v.isPlaying;this.$VideoControls9=v.playbackDuration;this.$VideoControlsr=v.volume;this.$VideoControlsn=this.$VideoControls0.isFullscreen();}};u.prototype.toggleHD=function(){"use strict";this.$VideoControls0.toggleHD();};u.prototype.toggleWatchAndScroll=function(){"use strict";if(this.$VideoControls6){this.$VideoControls0.emit('exitWatchAndScroll');}else this.$VideoControls0.emit('enterWatchAndScroll');};u.prototype.onEnterWatchAndScroll=function(){"use strict";this.$VideoControls6=true;this.$VideoControlss=this.$VideoControls2;this.$VideoControls2=false;};u.prototype.onExitWatchAndScroll=function(){"use strict";this.$VideoControls6=false;this.$VideoControls2=this.$VideoControlss;};u.prototype.scrubBegin=function(){"use strict";this.$VideoControls0.pause(m.SEEK);};u.prototype.scrubEnd=function(v){"use strict";this.$VideoControls0.seek(v);this.$VideoControls0.play(m.SEEK);};u.prototype.toggleMuted=function(){"use strict";if(this.$VideoControls0.isMuted()){r(this.$VideoControls0.getVideoNode());this.$VideoControls0.unmute();}else this.$VideoControls0.mute();};u.prototype.toggleFullscreen=function(){"use strict";if(!this.$VideoControls0.isFullscreen())r(this.$VideoControls0.getVideoNode());this.$VideoControls0.toggleFullscreen();};u.prototype.toggleSubtitles=function(){"use strict";this.$VideoControls0.toggleSubtitles();this.scheduleRenderReactComponent();};u.prototype.changeVolume=function(v){"use strict";this.$VideoControls0.setVolume(v);};u.prototype.play=function(){"use strict";r(this.$VideoControls0.getVideoNode());this.$VideoControls0.play(m.USER);};u.prototype.pause=function(){"use strict";this.$VideoControls0.pause(m.USER);};e.exports=u;},null);